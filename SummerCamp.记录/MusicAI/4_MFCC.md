- MFCC在电音智造中被用于DTW算法之前提取特征向量；（MFCC不是梅尔频谱，而是从梅尔频谱通过倒谱分析再才拿到的特征）

  DTW中计算wav之间的相似度就是根据每一帧的特征向量的距离；



### 声谱图

一段语音被分为很多帧，每帧语音都对应于一个频谱（通过短时FFT计算），**频谱表示频率与能量的关系**(不同频率的振幅大小不同)。

在实际使用中，频谱图有三种，即**线性振幅谱**、**对数振幅谱**、**自功率谱**。

**对数振幅谱**中各谱线的振幅都作了对数计算，所以其纵坐标的单位是dB（分贝）。这个变换的目的是使那些振幅较低的成分相对高振幅成分得以拉高，以便观察掩盖在低幅噪声中的周期信号。

![img](.\images\image07.jpg)

### 梅尔频率

声谱图往往是很大的一张图，为了得到合适大小的声音特征，往往把它通过梅尔标度滤波器组（mel-scale filter banks），变换为梅尔频谱。什么是梅尔滤波器组呢？要从梅尔标度（mel scale）说起。

人耳能听到的频率范围是20-20000Hz，但人耳对Hz这种标度单位并不是线性感知关系。例如如果我们适应了1000Hz的音调，如果把音调频率提高到2000Hz，我们的耳朵只能觉察到频率提高了一点点，根本察觉不到频率提高了一倍。

**在梅尔标度下，如果两段语音的梅尔频率相差两倍，则人耳可以感知到的音调大概也相差两倍**



对时域信号进行一次傅里叶变换得到频域信号，对时域信号进行两次傅里叶变换后又变回了时域信号，不过是对称反转后的时域信号（x反转，y也反转）

提取包络：

- 所谓包络就是一个信号的低频信号呈现的较圆滑的曲线，因此如果我们想得到一个频谱曲线的包络，只需对频谱信号再做一次傅里叶变换获取其低频信号即可。下图中Spectrum被提取出了包络Envelope和高频信号Details，注意Envelope和Details相加就可得到原信号。

![img](.\images\image08.jpg)

### Mel频率分析

而Mel频率分析就是基于人类听觉感知实验的。实验观测发现人耳就像一个滤波器组一样，它只关注某些特定的频率分量(人的听觉对频率是有选择性的)。也就说，它只让某些频率的信号通过，而压根就直接无视它不想感知的某些频率信号。但是这些滤波器在频率坐标轴上却不是统一分布的，在低频区域有很多的滤波器，他们分布比较密集，但在高频区域，滤波器的数目就变得比较少，分布很稀疏。



**总结提取MFCC特征的过程**:

1. 先对语音进行**预加重、分帧和加窗**；

2. 对每一个短时分析窗，**通过FFT得到对应的频谱**；

3. 将上面的频谱**通过Mel滤波器组得到Mel频谱**；（这里就得到了Mel频谱）

4. 在Mel频谱上面进行**倒谱分析**（**取对数**，做**逆变换**，实际逆变换一般是通过DCT离散余弦变换来实现，**取DCT后的第2个到第13个系数作为MFCC系数）**，获得Mel频率倒谱系数MFCC，这个MFCC就是**这帧语音的特征**；（Mel频谱倒谱分析取第2个到第13个系数作为MFCC）

