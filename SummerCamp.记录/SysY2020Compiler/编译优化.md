> 编译器前端对中间代码进行优化
>
> 编译器后端对目标代码进行优化，例如寄存器分配优化



### 中间代码优化的分类

1. 局部优化

> 循环上的优化（所有优化方法效果最好的）
> 1. 循环不变体外提：循环中不因循环而改变的部分可以提到循环的外部
> 2. 削减运算强度：在一些循环上的计算转换成另一种计算方式实现，比如b=a*2 -> b=a+a
>
> 基本块的优化（按照某些规则划分成基本块）
>
> 1. 常表达式节省
> 2. 公共子表达式节省

2. 全局优化

> 全局**数据流分析**，从而使优化的效果更好。
>
> 考虑基本块里如何优化，已经得到的值和变量的表，全局得到更多的信息进行分析。
>
> 在局部优化的基础上进行全局优化才有更大的提高，否则直接进行全局优化的提升效果不明显。

如果没有特殊需求，一般来说是不做全局优化的：

- 第一个原因就是编译代价太大，因为要做各种各样的分析，导致编译代价很大。

- 第二就是提高的效率也并不是十分的明显。



PS：还有很重要的就是DAG图对基本块的优化，DAG优化就基本上实现了常表达式和公共子表达式的优化；

PS：我们并未实现循环的优化；

PS：我们通过活跃变量分析实现了一定程度的全局优化；
