> reliable分布式系统必须要考虑组件出故障时可能给不同的部件下发conflicting消息的情况。
>
> 拜占庭问题的场景：一群将领带领军队包围了一座城市，将领之间的通信只能靠小兵传递消息，然而在这群将领之中有叛徒，问题就是该如何设计算法使得所有忠诚的将领最后达成的计划是一致的。

## 1 Introduction

在拜占庭问题中，我们希望：

A. 所有余下的忠诚的将领能达成一致。

B. 小部分的叛徒不能影响忠诚的将领达成一致的最后结果。（不能让将领们达成bad plan的一致，就是说叛徒的决定是什么不影响最终的结果）



假设将领$$i$$发出的消息为$$v(i)$$，则每个将领得到的消息就是$$v(1),\dots,v(n)$$，如果这些消息对每个将领来说都一样，则只要每个将领采用相同的策略即可达成一致的决定。但由于叛徒的存在，每个将领得到的消息可能不同。为了满足条件A，需要满足：

1. 每个忠诚的将领所获取到的消息$$v(1),\dots,v(n)$$都应相同

因为叛徒可能给不同的将领发送不同的消息，因此我们不能直接认为从第$$i$$个将领获取到的消息就是$$v(i)$$。为了满足条件B，需要满足：

2. 如果第$$i$$个将领是忠诚的，那么他发送的消息就应该被用作最后的$$v(i)$$。

而条件1可以重新写成：

1. 任何两个忠诚的将领获得的消息$$v(i)$$是相同的。

因此接下来就可以将问题缩小至如何在单个将领的决定上（1个commanding general，其余是lieutenant general 副官），满足条件1和2。条件1和2也被称为interactive consistency。



## 2 Impossibility Results

就是说拜占庭问题要有解，必须是忠诚的将领超过3分之2（大于，而非大于等于），否则问题无解（作者在这里举了3个将领中有1个叛徒的例子来说明此问题无解，并且说如果读者想要这种无解理论的严格证明请查阅其它参考资料）。（当前只考虑oral message，也就是发送的数据完全由发送者决定的message，暂时不考虑那种带有signature的签名）

也可以推测出，小于3m+1个将领中如果有m个叛徒则无解。

也可以推测出，3个将领中有1个叛徒的条件下，即使是不达成精确的agreement，只希望达成模糊的agreement，也是不能的。同理，小于3m+1个将领中如果有m个叛徒，想要达成模糊的agreement也是不行的。

PS：模糊的agreement中的agreement是指"进攻的时间"和"撤退"，需要满足：（作者通过假设有一种方法能达成模糊agreement的话则通过一定的规则将进攻时间转换为attack or retreat，则这个方法也能用于精确的agreement，因为达成精确agreement的方法不存在，因此达成模糊agreement的方法也不存在）

1. 所有忠诚的将领发起进攻的时间都是在10分钟以内。
2. 如果发布指令的将领是忠诚的，则其它忠诚的将领在收到他的指令后进攻的时间也在10分钟以内。



## 3 A Solution With Oral Message

 
