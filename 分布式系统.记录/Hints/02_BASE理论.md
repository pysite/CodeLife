## 1 什么是BASE理论

BASE就是Basically Available、Soft state、Eventually consistent三个概念。

BASE理论是对CAP中一致性和可用性权衡的结果，其来源于对大型互联网分布式实践的总结，基于CAP理论逐渐演化而来。

其**核心思想**是：既然无法做到强一致性，但每个应用都可以根据自身的业务特点，采用适当的方法来使系统达到最终一致性。



## 2 Basically Available

基本可用就是说，系统能用，但比平时的效率更低。



## 3 Soft state

软状态就是说，允许在数据更新时出现中间状态（一部分更新了，一部分没更新），即允许系统在多个不同节点的数据副本存在数据延时。



## 4 Eventually consistent

系统能够保证在没有其它新的更新操作的情况下，数据最终一定能够达到一致的状态。

最终一致性有以下五种：

1. 因果一致性（Causal consistency）

   如果节点A在更新完某个数据后再通知节点B，那么节点B之后对于该数据的访问都是基于A更新后的值。而和节点A无因果关系的节点则不受此限制。

2. 自己一致性（Read your writes）

   节点A更新一个值后，它之后总是访问的是自己更新的值，不会是旧值。

3. 会话一致性（Session consistency）

   会话一致性将对系统数据的访问过程框定再了一个会话当中，系统能保证在同一个有效的会话中实现Read your writes，也就是说执行更新操作后，客户端能够在同一个会话中始终读取到该数据项的最新值。

4. 单调读一致性（Monotonic read consistency）

   指一个节点从系统中读取出数据项的某个值后，那么系统对于该节点后续的任何数据访问都不应该返回旧值。

5. 单调写一致性（Monotonic write consistency）

   指一个系统要能够保证来自同一个节点的写操作被顺序的执行。

## 5 总结

在实际过程中，这5种系统往往会结合使用，以构建一个具有最终一致性的分布式系统。

BASE理论面向的是大型高可用可拓展的分布式系统，和传统事务的ACID是相反的，它完全不同于ACID的强一致性模型，而是通过牺牲强一致性来获得可用性，并允许数据在一段时间是不一致的。