# 基本数据结构类型

- 结构体

  ```rust
  struct SeaCreature{
      // 重要：String是长度可变的字符串，str是固定长度的字符串
      // 重要：String只存那个字符串的位置、长度之类的信息，因此String属性实际上在结构体中占用的空间是固定大小的
      animal_type:String,
      arms:i32,
      weapon:String,	// 最后还是有个逗号
  }
  
  ```
  
  拓展：
  
  ```rust
  let s ="hello world";
  // 那s的类型就是&str，右边称为字符串字面量literal，程序编译成二进制文件后，这个字符串会被保存在文件内部，所以s是特定位置字符串的引用，这就是为什么s是&str类型。
  
  // &str由于保存在二进制文件内，所以&str类型不存在生命周期的概念，它是整个程序生命周期'static内都能访问的。
  
  // String是我们最常使用的字符串类型，本质上是vector，具备跟vetor类似的方法。
  ```



- 方法（与特定数据类型关联的函数）

  ```rust
  // 和C++中类似，(静态方法)类名::类方法 或者 (动态方法)类对象.类方法
  
  // 使用静态方法来创建一个String实例
  let s = String::from("Hello World!");
  println!("{} is {} characters long.", s, s.len());
  ```



- 内存

  三种存放数据的内存区域：

  1. 数据内存，存放固定大小和静态的数据（例如字符串常量）
  2. 栈内存，存放变量
  3. 堆内存



- 创建结构体

  ```rust
  struct A{
      a_1:String,
      a_2:i32,
  }
  let aa = A{
      a_1:String::from("Hello"),
      a_2:0,
  };
  // 还是用.取出对应属性
  let b = aa.a_1;
  let c = aa.a_2;
  ```



- 类元组结构体

  ```rust
  // 可以像创建元组一样使用结构体
  struct A(i32, i32);
  
  let a = A(11,22);
  // 用a.i取出第i个属性
  let a_1 = a.0;
  let a_2 = a.1;
  ```



- 类单元结构体（单元就是None的意思，就是个()括号）

  ```rust
  // 结构体也可以没有任何字段
  struct Marker;
  let m = Marker;
  ```

  

- enum

  ```rust
  enum Label{
      A,
      B
  }
  struct Test{
      t_1:Label,
      t_2:i32,
  }
  // 用 ``Enum名::标签`` 的格式取出值
  let t = Test{
      t_1: Label::A,
      t_2: 2,
  };
  // PS：可以用到match语句中
  ```

  

- 联合——带数据类型的枚举

  ```rust
  // Rust中的"联合结构体就"是将enum中的属性变为带数据的结构体
  
  enum A{
      A_1(i32, i32),
      A_2(i32, String),
  }
  let test_a = A::A_1(1,2);
  
  match test_a{
      // 使用match对 带数据的enum 进行匹配时可以直接将变量名称绑定到每个数据值
      A::A_1(x, y) => {
          println!("A_1:{}, {}", x, y);
      }
      _ => {
          println!("A_2");
      }
  }
  ```

  

